<div class="box">
  <div class="boxHeader">
    <div class="title">
      <h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2>
    </div>
  </div>
  <div id="authLoginPlugin" class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.LOGIN"></span></h3>
    </div>

    <div class="panel-body edit-profile-box">

      <div id="" ng-if="myVolumioEditProfileController.user !== null">
        <div class="container">
          <my-volumio-back-button route-destination="myvolumio.profile" label="{{'MYVOLUMIO.PROFILE' | translate}}">
          </my-volumio-back-button>
          <h1 translate="MYVOLUMIO.EDIT_PROFILE"> </h1>
          <hr>
          <div class="row">
            <!-- left column -->
            <div class="col-md-6">
              <div class="text-center" style="margin-bottom: 16px;">
                <my-volumio-avatar-image image-override="myVolumioEditProfileController.form.photoUrl">
                </my-volumio-avatar-image>
                <h6 translate="MYVOLUMIO.EDIT_AVATAR"></h6>
                <div>
                  <input type="file" class="form-control" ng-model="myVolumioEditProfileController.userAvatar" my-volumio-file-on-change on-change-callback="myVolumioEditProfileController.avatarChange(file)">
                </div>
                <div ng-if="myVolumioEditProfileController.isAvatarChanged === true">
                  <a class="btn btn-success btn-block" style="margin-top: 16px;" ng-click="myVolumioEditProfileController.saveAvatar();">
                    <span ng-if="myVolumioEditProfileController.uploadingAvatar === true" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>
                    <span translate="MYVOLUMIO.SAVE_AVATAR"></span>
                  </a>
                </div>
              </div>
            </div>

            <!-- edit form column -->
            <div class="col-md-18 personal-info">

              <div class="alert alert-success alert-dismissable" ng-if="!myVolumioEditProfileController.isUserFilledWithMandatory()">
                <a class="panel-close close" data-dismiss="alert">Ã—</a>
                <i class="glyphicon glyphicon-check"></i>
                <span translate="MYVOLUMIO.COMPLETE_YOUR_PROFILE"></span>
              </div>
              <h3 translate="MYVOLUMIO.PERSONAL_INFO"></h3>

              <form class="form-horizontal" role="form" ng-submit="myVolumioEditProfileController.doEdit()">
                <div class="form-group">
                  <label class="col-lg-6 control-label"><span translate="MYVOLUMIO.FIRST_NAME"></span>* :</label>
                  <div class="col-lg-16">
                    <input class="form-control" type="text" ng-model="myVolumioEditProfileController.form.firstName" required pattern="[A-Za-z0-9 ']{2,}">
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-6 control-label"><span translate="MYVOLUMIO.LAST_NAME"></span>* :</label>
                  <div class="col-lg-16">
                    <input class="form-control" type="text" ng-model="myVolumioEditProfileController.form.lastName" required pattern="[A-Za-z0-9 ']{2,}">
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-6 control-label"><span translate="MYVOLUMIO.USERNAME"></span>* :</label>
                  <div class="col-lg-16">
                    <input class="form-control" type="text" ng-model="myVolumioEditProfileController.form.username" required pattern="[A-Za-z0-9]{5,}">
                  </div>
                </div>
                <div ng-if="false">
                  <div class="form-group">
                    <label class="col-lg-6 control-label"><span translate="MYVOLUMIO.COUNTRY"></span> :</label>
                    <div class="col-lg-16 country-select">
                      <input class="form-control" country-select data-ng-model="myVolumioEditProfileController.form.country" value="{{myVolumioEditProfileController.form.country}}">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-lg-6 control-label"><span translate="MYVOLUMIO.BIRTHDAY"></span> :</label>
                    <div class="col-lg-16 birthday-picker">
                      <datepicker date-format="dd/MM/yyyy">
                        <input ng-model="myVolumioEditProfileController.form.birthday" type="text" date-typer="true" />
                      </datepicker>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-6 control-label"><span translate="MYVOLUMIO.EMAIL_ADDRESS"></span>* :</label>
                  <div class="col-md-16">
                    <input class="form-control" type="email" required ng-model="myVolumioEditProfileController.form.email" ng-change="myVolumioEditProfileController.notifyEmailChanged()">
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-6 control-label">
                    <span translate="MYVOLUMIO.PASSWORD"></span>:
                  </label>
                  <div class="col-md-16">
                    <input class="form-control" type="password" ng-model="myVolumioEditProfileController.form.password" placeholder="Leave blank to keep current">
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-6 control-label">
                    <span translate="MYVOLUMIO.CONFIRM_PASSWORD"></span>:
                  </label>
                  <div class="col-md-16">
                    <input class="form-control" type="password" ng-model="myVolumioEditProfileController.passwordCheck">
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-24">
                    <button type="submit" class="btn btn-success">
                      <span translate="COMMON.SAVE"></span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-24">
              <hr />
              <div class="pull-right">
                <a ng-click='myVolumioEditProfileController.deleteUser()' style="cursor: pointer;">
                  <i ng-if="myVolumioEditProfileController.deletingUser === false" class="glyphicon glyphicon-remove-sign"></i>
                  <i ng-if="myVolumioEditProfileController.deletingUser === true" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></i>
                  <span translate="MYVOLUMIO.DELETE_ACCOUNT"></span>
                </a>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div id="" ng-if="myVolumioEditProfileController.user === null">
        <h4 translate="MYVOLUMIO.NOT_LOGGED_IN"></h4>
        <a ng-click="myVolumioEditProfileController.logIn()" class="btn btn-lg btn-success" translate="MYVOLUMIO.LOGIN"></a>
      </div>


    </div>
  </div>
</div>
